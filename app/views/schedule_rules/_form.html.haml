#schedule-container
  = simple_form_for([@business, @schedule_rule], class: 'form') do |f|
    = f.hidden_field :business_id
    = f.hidden_field :service_provider_id

    - if @schedule_rule.errors.any?
      #error_explanation
        %h2= "#{pluralize(@schedule_rule.errors.count, "error")} prohibited this schedule_rule from being saved:"
        %ul
          - @schedule_rule.errors.full_messages.each do |msg|
            %li= msg

    = form_error_messages(@schedule_rule)

    .form-inputs
      / Text input
      .form-group.row.service-providers
        .col-lg-3.left
          = f.label :is_schedule_public, 'Service Provider'
        .col-lg-4.right
          = f.collection_select :service_provider_id, @service_providers, :id, :display_name, {}, class: 'bootstrap-select', data: { style: 'btn-default'}
      %hr
      -# Nav tabs
      %ul.nav.nav-tabs{:role => "tablist"}
        %li.active{:role => "presentation"}
          %a{"aria-controls" => "availability", "data-toggle" => "tab", :href => "#availability", :role => "tab"} Availability
        %li{:role => "presentation"}
          %a{"aria-controls" => "breaks", "data-toggle" => "tab", :href => "#breaks", :role => "tab"} Breaks

      .tab-content
        #availability.service-entries.row.active.tab-pane{role: "tabpanel"}
          .btn.btn-add-time-sheet.btn-link.hidden.pull-right
            %i.fa.fa-plus
            Add another Time Sheet
          .clear
        #breaks.break-entries.row.tab-pane{role: "tabpanel"}
          %br/
          %br/

      .time-sheet-spinner
        %i.fa.fa-spinner.fa-spin
        Loading...

      .alert.alert-info.hidden
        Would you like to add some breaks?

    %br/
    .actions

      .btn.btn-save-everything.btn-default.pull-right.btn-lg
        %i.fa.fa-check
        Save Schedule

- content_for :javascript do
  :javascript
    $(function(){
      window['view'] = new Scplanner.Views.Schedules.NewView()
    });
